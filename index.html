<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DEFENDER.DE5.NET // SECURITY_CORE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;500;800&display=swap');

        :root {
            --glow: #00ff41;
            --accent: #008f11;
            --bg: #0d0208;
            --alert: #ff003c;
            --font: 'JetBrains Mono', monospace;
        }

        body, html {
            margin: 0; padding: 0;
            background: var(--bg);
            color: var(--glow);
            font-family: var(--font);
            overflow: hidden;
            height: 100vh;
        }

        /* 故障背景效果 */
        canvas#matrix {
            position: fixed;
            top: 0; left: 0;
            z-index: -2;
            opacity: 0.15;
        }

        .crt-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.05), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.05));
            background-size: 100% 2px, 3px 100%;
            z-index: 1000;
            pointer-events: none;
        }

        /* 顶部状态栏 */
        .top-bar {
            height: 40px;
            border-bottom: 1px solid var(--accent);
            display: flex;
            align-items: center;
            padding: 0 20px;
            background: rgba(0, 20, 0, 0.8);
            justify-content: space-between;
            font-size: 12px;
            letter-spacing: 2px;
        }

        /* 核心布局 */
        .dashboard {
            display: grid;
            grid-template-columns: 320px 1fr 320px;
            height: calc(100vh - 40px);
            gap: 10px;
            padding: 10px;
        }

        .col { display: flex; flex-direction: column; gap: 10px; }

        .widget {
            border: 1px solid var(--accent);
            background: rgba(0, 15, 0, 0.4);
            position: relative;
            overflow: hidden;
        }

        .widget-header {
            background: var(--accent);
            color: var(--bg);
            padding: 2px 10px;
            font-weight: 800;
            font-size: 10px;
            text-transform: uppercase;
        }

        /* 防御核心 SVG 动画 */
        .core-center {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .shield-svg {
            width: 300px;
            filter: drop-shadow(0 0 15px var(--glow));
            animation: pulse 4s infinite ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }

        /* 实时终端 */
        .terminal {
            font-size: 9px;
            line-height: 1.2;
            padding: 10px;
            flex-grow: 1;
            overflow-y: hidden;
        }

        .cursor { display: inline-block; width: 6px; height: 12px; background: var(--glow); animation: blink 0.8s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        /* 登录覆盖层 */
        #login-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.8s cubic-bezier(0.85, 0, 0.15, 1);
        }

        .login-box {
            text-align: center;
            border: 2px solid var(--glow);
            padding: 50px;
            background: rgba(0, 30, 0, 0.5);
            box-shadow: 0 0 50px rgba(0, 255, 65, 0.2);
        }

        input {
            background: transparent;
            border: 1px solid var(--glow);
            color: var(--glow);
            padding: 10px;
            font-family: inherit;
            font-size: 20px;
            text-align: center;
            margin-top: 20px;
            width: 300px;
            outline: none;
        }

        .btn-auth {
            margin-top: 20px;
            padding: 10px 30px;
            border: 1px solid var(--glow);
            background: transparent;
            color: var(--glow);
            cursor: pointer;
            font-weight: bold;
        }

        .btn-auth:hover { background: var(--glow); color: var(--bg); }

        /* 隐藏状态 */
        .authenticated #login-screen { transform: translateY(-100%); }

        /* 数据波形 */
        .waves { height: 60px; display: flex; align-items: flex-end; gap: 2px; padding: 10px; }
        .bar { width: 4px; background: var(--glow); animation: barGrow 1s infinite alternate; }

        @keyframes barGrow { 0% { height: 10%; } 100% { height: 100%; } }

        /* 管理员特权风格 */
        .admin-alert {
            color: var(--alert) !important;
            border-color: var(--alert) !important;
            text-shadow: 0 0 10px var(--alert);
        }

    </style>
</head>
<body>

<canvas id="matrix"></canvas>
<div class="crt-overlay"></div>

<!-- 登录/访问控制层 -->
<div id="login-screen">
    <div class="login-box" id="auth-box">
        <div style="font-size: 10px; letter-spacing: 5px;">SECURITY GATEWAY</div>
        <h1 id="domain-head">DEFENDER.DE5.NET</h1>
        <p style="font-size: 12px; color: var(--accent);">PLEASE ENTER ACCESS AUTHORIZATION CODE</p>
        <input type="password" id="passcode" placeholder="********" autocomplete="off">
        <br>
        <button class="btn-auth" onclick="verify()">DECRYPT</button>
        <div id="error-msg" style="color: var(--alert); margin-top: 10px; font-size: 12px; height: 15px;"></div>
    </div>
</div>

<div class="top-bar">
    <div>NODE: DEFENDER-01 // SERVER: de5.net</div>
    <div id="uptime">UPTIME: 00:00:00:00</div>
    <div>LATENCY: 12ms // ENCRYPTION: AES-256-GCM</div>
</div>

<div class="dashboard">
    <!-- 左侧：抓包与实时监测 -->
    <div class="col">
        <div class="widget" style="flex: 2;">
            <div class="widget-header">Live Packet Sniffer</div>
            <div class="terminal" id="sniffer-logs"></div>
        </div>
        <div class="widget" style="flex: 1;">
            <div class="widget-header">Neural Link Load</div>
            <div class="waves" id="wave-container"></div>
        </div>
    </div>

    <!-- 中间：核心状态 -->
    <div class="col">
        <div class="widget core-center" style="flex: 1;">
            <div class="widget-header" style="position: absolute; top:0; width:100%;">Defense Core Topology</div>
            
            <!-- SVG 动态盾牌 -->
            <svg class="shield-svg" viewBox="0 0 200 200">
                <circle cx="100" cy="100" r="90" fill="none" stroke="var(--accent)" stroke-width="0.5" stroke-dasharray="10 5" />
                <path d="M100 30 L140 50 V90 C140 120 100 150 100 150 C100 150 60 120 60 90 V50 L100 30" 
                      fill="none" stroke="var(--glow)" stroke-width="2" id="shield-path">
                </path>
                <circle cx="100" cy="100" r="10" fill="var(--glow)">
                    <animate attributeName="opacity" values="0;1;0" dur="2s" repeatCount="indefinite" />
                </circle>
            </svg>

            <div style="margin-top: 20px; text-align: center;">
                <div style="font-size: 24px; font-weight: 800;">PROTECTION ACTIVE</div>
                <div id="sys-msg" style="font-size: 12px; color: var(--accent);">Waiting for command...</div>
            </div>
        </div>
    </div>

    <!-- 右侧：威胁情报与控制台 -->
    <div class="col">
        <div class="widget" style="flex: 1;">
            <div class="widget-header">Threat Intelligence</div>
            <div id="threat-list" style="padding: 10px; font-size: 10px;"></div>
        </div>
        <div class="widget" style="flex: 1;">
            <div class="widget-header">System Console</div>
            <div class="terminal" id="console-output">
                > DEFENDER-OS Initialized...<br>
                > Loading kernel modules...<br>
                > Domain link: defender.de5.net [OK]<br>
                <span class="cursor"></span>
            </div>
        </div>
    </div>
</div>

<script>
    // 1. Matrix Background
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()*&^";
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function drawMatrix() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#0F0";
        ctx.font = fontSize + "px monospace";
        for (let i = 0; i < drops.length; i++) {
            const text = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        }
    }
    setInterval(drawMatrix, 50);

    // 2. Authentication Logic
    function verify() {
        const pass = document.getElementById('passcode').value;
        const box = document.getElementById('auth-box');
        if (pass === 'defender-alpha') {
            document.body.classList.add('authenticated');
            startSystem();
        } else {
            document.getElementById('error-msg').innerText = "UNAUTHORIZED ACCESS ATTEMPT DETECTED";
            box.style.animation = "glitch 0.2s 3";
            setTimeout(() => { box.style.animation = ""; }, 500);
        }
    }

    // 3. Dynamic Data Simulation
    function startSystem() {
        const sniffer = document.getElementById('sniffer-logs');
        const protocols = ['TCP', 'UDP', 'HTTP', 'TLSv1.3', 'SSH', 'FTP'];
        
        // 模拟抓包流
        setInterval(() => {
            const row = document.createElement('div');
            row.style.marginBottom = '4px';
            const time = new Date().toLocaleTimeString();
            const proto = protocols[Math.floor(Math.random()*protocols.length)];
            const size = Math.floor(Math.random()*1500);
            row.innerHTML = `<span style="color:var(--accent)">[${time}]</span> ${proto} src: 192.168.${Math.floor(Math.random()*255)}.X dst: 10.0.0.1 size: ${size}b`;
            sniffer.prepend(row);
            if(sniffer.childNodes.length > 30) sniffer.removeChild(sniffer.lastChild);
        }, 300);

        // 模拟威胁列表
        const threats = document.getElementById('threat-list');
        setInterval(() => {
            if (Math.random() > 0.8) {
                const threat = document.createElement('div');
                threat.style.color = 'var(--alert)';
                threat.style.borderLeft = '2px solid var(--alert)';
                threat.style.paddingLeft = '5px';
                threat.style.marginBottom = '10px';
                threat.innerHTML = `<strong>CRITICAL:</strong> SQL Injection attempt blocked from 84.21.10.X <br><small>${new Date().toISOString()}</small>`;
                threats.prepend(threat);
                if(threats.childNodes.length > 5) threats.removeChild(threats.lastChild);
            }
        }, 3000);

        // 模拟波动图
        const wave = document.getElementById('wave-container');
        for(let i=0; i<40; i++) {
            const bar = document.createElement('div');
            bar.className = 'bar';
            bar.style.animationDelay = (i * 0.1) + 's';
            wave.appendChild(bar);
        }
    }

    // 4. Uptime Clock
    let seconds = 0;
    setInterval(() => {
        seconds++;
        const d = Math.floor(seconds / 86400);
        const h = Math.floor((seconds % 86400) / 3600);
        const m = Math.floor((seconds % 3600) / 60);
        const s = seconds % 60;
        document.getElementById('uptime').innerText = `UPTIME: ${String(d).padStart(2,'0')}:${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    }, 1000);

    // 回车直接登录
    document.getElementById('passcode').addEventListener('keypress', (e) => {
        if(e.key === 'Enter') verify();
    });

</script>

<style>
    /* 额外的故障动画 */
    @keyframes glitch {
        0% { transform: translate(0); text-shadow: -2px 0 red, 2px 0 blue; }
        20% { transform: translate(-5px, 5px); }
        40% { transform: translate(-5px, -5px); }
        60% { transform: translate(5px, 5px); }
        80% { transform: translate(5px, -5px); }
        100% { transform: translate(0); text-shadow: none; }
    }
</style>

</body>
</html>
